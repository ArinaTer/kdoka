# KDoka Project

Веб-проект с настроенной системой Git веток для разработки и деплоя.

## Структура веток

- **`dev`** - ветка разработки с полным исходным кодом проекта
- **`main`** - ветка продакшена с только собранной версией (папка `dist`)

## Рабочий процесс

### Разработка

1. Всегда работайте в ветке `dev`:

   ```bash
   git checkout dev
   ```

2. Вносите изменения в исходный код

3. Собирайте проект для тестирования:

   ```bash
   npm run build
   ```

4. Коммитьте изменения:
   ```bash
   git add .
   git commit -m "Описание изменений"
   ```

### Деплой в продакшен

Для обновления продакшен версии используйте скрипт деплоя:

```bash
./deploy.sh
```

Этот скрипт:

- Переключается на ветку `dev`
- Собирает проект
- Переключается на ветку `main`
- Обновляет собранные файлы
- Создает коммит с датой
- Возвращается на исходную ветку

### Ручной деплой

Если нужно сделать деплой вручную:

```bash
# На ветке dev
npm run build

# Переключиться на main
git checkout main

# Обновить файлы
git rm -rf dist/
git add -f dist/
git commit -m "Update production build"
```

## Команды для работы

```bash
# Переключение между ветками
git checkout dev    # для разработки
git checkout main   # для просмотра продакшена

# Просмотр статуса
git status
git branch -v

# Сборка проекта
npm run build
npm run dev         # для разработки с hot reload
```

## Структура проекта

```
kdoka/
├── src/                    # Исходный код (только в ветке dev)
│   ├── assets/            # Ресурсы (шрифты, изображения)
│   ├── scripts/           # JavaScript файлы
│   ├── styles/            # SCSS стили
│   └── views/             # HTML шаблоны
├── dist/                  # Собранная версия (только в ветке main)
├── webpack.config.js      # Конфигурация сборки
├── package.json           # Зависимости
└── deploy.sh             # Скрипт деплоя
```
